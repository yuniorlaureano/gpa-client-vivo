<div class="right-button">
  <button
    *ngIf="isEdit"
    type="button"
    class="btn btn-outline-warning btn-rounded"
    style="margin-right: 5px"
    (click)="onSubmit()"
    [disabled]="!updateUserProfile"
  >
    <i class="bi bi-pencil-square"></i>
    Actualizar
  </button>
  <button
    type="button"
    class="btn btn-outline-dark btn-rounded"
    (click)="handleCancel()"
    placement="top"
    ngbTooltip="Limpiar campos"
  >
    <i class="bi bi-arrow-clockwise"></i>
  </button>
</div>
<div style="margin-top: 5px">
  <div class="card">
    <div class="card-header"></div>
    <!--  -->
    <div class="card-body">
      <!-- Comienza row de sergundo nivel! -->
      <div class="row">
        <gpa-no-permission-alert [visible]="!updateUserProfile">
          No tiene permisos para editar su perfil
        </gpa-no-permission-alert>
        <form [formGroup]="userForm" class="row">
          <div class="col-sm-2 col-12">
            <gpa-no-permission-alert [visible]="!uploadPhoto">
              No tiene permisos para subir foto
            </gpa-no-permission-alert>
            <img
              [src]="this.imageUrl"
              class="img-thumbnail image-upload-product"
              (click)="fileUpload.click()"
              *ngIf="uploadPhoto"
            />
            <input
              type="file"
              style="display: none"
              #fileUpload
              (change)="processFileUpload($event)"
            />
          </div>
          <!--  -->
          <div class="col-sm-10">
            <div class="row">
              <div class="col-sm-12">
                <div class="mb-3">
                  <label class="form-label"
                    >Email<span class="text-red">*</span></label
                  >
                  <input
                    type="text"
                    class="form-control"
                    formControlName="email"
                    [inputMask]="emailInputMask"
                    placeholder="_@_._"
                  />
                  <gpa-validator-message
                    [control]="userForm.get('email')"
                    [touched]="userForm.touched"
                    validation="required"
                    message="Requerido"
                  />
                  <gpa-validator-message
                    [control]="userForm.get('email')"
                    [touched]="userForm.touched"
                    validation="email"
                    message="Email inválido"
                  />
                  <gpa-validator-message
                    [control]="userForm.get('email')"
                    [touched]="userForm.touched"
                    validation="maxlength"
                    message="Tamaño máximo 254"
                  />
                </div>
              </div>
              <!--  -->
              <div class="col-sm-12">
                <div class="mb-3">
                  <label class="form-label"
                    >Nombre de usuario<span class="text-red">*</span></label
                  >
                  <input
                    type="text"
                    class="form-control"
                    formControlName="userName"
                  />
                  <gpa-validator-message
                    [control]="userForm.get('userName')"
                    [touched]="userForm.touched"
                    validation="required"
                    message="Requerido"
                  />
                  <gpa-validator-message
                    [control]="userForm.get('userName')"
                    [touched]="userForm.touched"
                    validation="maxlength"
                    message="Tamaño máximo 30"
                  />
                </div>
              </div>
            </div>
          </div>
          <div class="col-sm-6">
            <div class="mb-3">
              <label class="form-label"
                >Nombre<span class="text-red">*</span></label
              >
              <input
                type="text"
                class="form-control"
                formControlName="firstName"
              />
              <gpa-validator-message
                [control]="userForm.get('firstName')"
                [touched]="userForm.touched"
                validation="required"
                message="Requerido"
              />
              <gpa-validator-message
                [control]="userForm.get('firstName')"
                [touched]="userForm.touched"
                validation="maxlength"
                message="Tamaño máximo 100"
              />
            </div>
          </div>
          <!--  -->
          <div class="col-sm-6">
            <div class="mb-3">
              <label class="form-label"
                >Apellido<span class="text-red">*</span></label
              >
              <input
                type="text"
                class="form-control"
                formControlName="lastName"
              />
              <gpa-validator-message
                [control]="userForm.get('lastName')"
                [touched]="userForm.touched"
                validation="required"
                message="Requerido"
              />
              <gpa-validator-message
                [control]="userForm.get('lastName')"
                [touched]="userForm.touched"
                validation="maxlength"
                message="Tamaño máximo 100"
              />
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
